<!DOCTYPE html>
<html layout:decorate="~{layout}" xmlns:th="http://www.thymeleaf.org" lang="ko">
<head>
    <meta charset="UTF-8" />
    <title>사업장 등록</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <!-- 전용 CSS -->
    <link rel="stylesheet" th:href="@{/css/cafe-register.css}">
</head>

<body>
<div layout:fragment="content" class="page--with-navbar">
    <div class="g-container">

        <!-- 헤더 카드 -->
        <div class="card page-header">
            <h1>사업장 등록</h1>
            <p>기본 정보만 먼저 등록하세요. 상세 정보(메뉴/운영시간/사진)는 이후에 추가할 수 있어요.</p>
        </div>

        <!-- 알림/오류 -->
        <div th:if="${toast}" class="card alert alert-success">
            <span th:text="${toast}">등록되었습니다.</span>
        </div>
        <div th:if="${error}" class="card alert alert-error">
            <span th:text="${error}">오류가 발생했습니다.</span>
        </div>

        <!-- 등록 폼 -->
        <div class="card register-form">
            <form th:action="@{/mypage/cafe/register(reauth=${param.reauth})}"
                  method="post" autocomplete="on">

                <!-- CSRF -->
                <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>

                <!-- 사업자번호: hidden -->
                <input type="hidden" name="businessNumber"
                       th:value="${user != null and user.businessUser != null ? user.businessUser.businessNumber : ''}"/>

                <!-- 그리드 -->
                <div class="grid-cols">
                    <!-- 좌측 칼럼 -->
                    <div class="col">
                        <div class="form-group">
                            <label for="companyName">상호명(회사명) <span class="required">*</span></label>
                            <input id="companyName" name="companyName" type="text" required
                                   placeholder="예) 빈스팟 커피"
                                   th:value="${param.companyName}" />
                        </div>

                        <div class="form-group">
                            <label for="representativeName">대표자 이름</label>
                            <input id="representativeName" name="representativeName" type="text"
                                   placeholder="예) 홍길동"
                                   th:value="${param.representativeName}" />
                        </div>

                        <div class="form-group">
                            <label for="representativeEmail">대표자 이메일</label>
                            <input id="representativeEmail" name="representativeEmail" type="email"
                                   placeholder="you@example.com"
                                   th:value="${param.representativeEmail}" />
                        </div>

                        <div class="form-group">
                            <label for="representativePhone">대표자 연락처</label>
                            <input id="representativePhone" name="representativePhone" type="tel"
                                   placeholder="010-1234-5678"
                                   th:value="${param.representativePhone}" />
                        </div>
                    </div>

                    <!-- 우측 칼럼 -->
                    <div class="col">
                        <div class="form-group">
                            <label for="address">사업장 주소</label>
                            <input id="address" name="address" type="text"
                                   placeholder="예) 서울특별시 강남구 테헤란로 00길 0, 3층"
                                   th:value="${param.address}" />
                        </div>

                        <div class="form-group">
                            <label for="description">소개/설명</label>
                            <textarea id="description" name="description" rows="6"
                                      placeholder="가게 소개, 시그니처 메뉴, 좌석 수, 콘센트/주차/와이파이 정보 등"
                                      th:text="${param.description}"></textarea>
                        </div>
                    </div>
                </div>

                <!-- 액션 -->
                <div class="actions">
                    <a th:href="@{/mypage/cafe/manage}" class="btn secondary">취소</a>
                    <button type="submit" class="btn">등록하기</button>
                </div>
            </form>
        </div>

        <!-- 안내 카드 -->
        <div class="card guide">
            <strong>다음 단계</strong>
            <ul>
                <li>프로필 관리: 대표 이미지/갤러리 업로드</li>
                <li>메뉴 관리: 카테고리/메뉴/가격 등록</li>
                <li>영업시간 설정: 요일별 개점/마감/브레이크 타임</li>
                <li>공지/프로모션 등록: 이벤트/쿠폰/공지 노출</li>
            </ul>
        </div>

    </div>
</div>
</body>
</html>
